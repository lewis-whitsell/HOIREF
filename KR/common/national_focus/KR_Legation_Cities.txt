##################################
### Legation Cities Focus Tree ###
##################################

focus_tree = {
	id = Legation_Cities
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = LEC
		}
	}
	default = no
	focus = {
		id = lec_shanghai # Struggle for Shanghai
		text = lec_shanghai
		icon = GFX_goal_LEC_big_trouble
		cost = 20.00
		x = 9
		y = 0
		completion_reward = {
		add_political_power = 150		
		}

        ai_will_do = {
	    factor = 100
		}		
	}
	focus = {
		id = lec_nav1 # Expand the Shanghai Dockyards
		text = lec_nav1
		icon = GFX_goal_generic_construct_naval_dockyard
		cost = 10.00
		x = 26
		y = 0
        completion_reward = {
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 2
								include_locked = yes
							}
						}
					}
					any_owned_state = {
						is_coastal = yes
					}
				}
				random_owned_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built
			}
		}
	}
	focus = {
		id = lec_air1 # Far East Air Command
		text = lec_air1
		icon = GFX_goal_generic_air_production
		cost = 10.00
		x = 29
		y = 0
        completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
					building = air_base
					size > 1
					}
				}
					add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
					building = air_base
					size > 1
					}
				}
					add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}				
			add_tech_bonus = {
				name = air_doc_bonus
				bonus = 0.5
				uses = 1
				category = air_doctrine
			}		
		}
	}
	focus = {
		id = lec_air2 # "Acquire Fighter Designs"
		text = lec_air2
		icon = GFX_goal_generic_air_fighter
		cost = 10.00
		prerequisite = {
			focus = lec_air1
		}
		x = 29
		y = 1
		completion_reward = {
				add_tech_bonus = {
				name = fighter_bonus
				bonus = 0.5
				uses = 2
				technology = early_fighter
				technology = fighter1
				technology = fighter2
				technology = fighter3
			}
		}
	}
	focus = {
		id = lec_def1 # The Legation Defence Force
		text = lec_def1
		icon = GFX_focus_generic_little_entente
		cost = 10.00
		x = 22
		y = 0
		completion_reward = {   
		   add_tech_bonus = {
				name = infantry_bonus
				bonus = 0.5
				uses = 1
				category = infantry_weapons
				category = support_tech }
        }
	}
	focus = {
		id = lec_man1 # The Mandate Prevails
		text = lec_man1
		icon = GFX_goal_LEC_establish
		cost = 10.00
		prerequisite = {
			focus = lec_shanghai
		}
		
		ai_will_do = {
			factor = 60
		}
		
		mutually_exclusive = {
			focus = lec_triad1
			focus = lec_comm1
		}
		x = 3
		y = 1
		completion_reward = {
		custom_effect_tooltip = lec_keep_mandate
        }
	}
	focus = {
		id = lec_man2 # Solidify our Position
		text = lec_man2
		icon = GFX_focus_generic_support_the_left_right
		cost = 10.00
		prerequisite = {
			focus = lec_man1
		}
		x = 3
		y = 2
		completion_reward = {
			add_popularity = {
				ideology = authoritarian_democrat popularity = -0.10
			}
			add_popularity = {
				ideology = paternal_autocrat popularity = -0.10
            }
			add_popularity = {
				ideology = social_conservative popularity = 0.10
			}	
        }
	}
	focus = {
		id = lec_man3 # Secure Foreign Capital
		text = lec_man3
		icon = GFX_goal_generic_intelligence_exchange
		cost = 10.00
		prerequisite = {
			focus = lec_man2
		}
		x = 3
		y = 3
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = lec_man4 # German Engineering
		text = lec_man4
		icon = GFX_goal_generic_positive_trade_relations_gold
		cost = 10.00
		prerequisite = {
			focus = lec_man3
		}
		x = 1
		y = 4
		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 1
				category = industry
			}
         }
	}
	focus = {
		id = lec_man5 # Canadian Construction
		text = lec_man5
		icon = GFX_goal_generic_positive_trade_relations_gold
		cost = 10.00
		prerequisite = {
			focus = lec_man3
		}
		x = 3
		y = 4
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = lec_man6 # Japanese Administration
		text = lec_man6
		icon = GFX_goal_generic_positive_trade_relations_gold
		cost = 10.00
		prerequisite = {
			focus = lec_man3
		}
		x = 5
		y = 4
		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 0.5
				uses = 2
				category = electronics
			}
		}
	}
	focus = {
		id = lec_man7 # Eliminate Corruption
		text = lec_man7
		icon = GFX_goal_generic_neutrality_focus
		cost = 10.00
		prerequisite = {
			focus = lec_man4
		}
		prerequisite = {
			focus = lec_man5
		}
		prerequisite = {
			focus = lec_man6
		}
		x = 3
		y = 5
		completion_reward = {
		add_political_power = 50
	 }
    }   
	focus = {
		id = lec_man8 # Reinforce our Economy
		text = lec_man8
		icon = GFX_goal_generic_construct_civ_factory
		cost = 10.00
		prerequisite = {
			focus = lec_man7
		}
		x = 3
		y = 6
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = lec_comm1 # The Commisioner Takes Control
		text = lec_comm1
		icon = GFX_goal_authoritarian
		cost = 10.00
		prerequisite = {
			focus = lec_shanghai
		}
		mutually_exclusive = {
			focus = lec_triad1
			focus = lec_man1
		}
		ai_will_do = {
			factor = 40
		}
		x = 9
		y = 1
		completion_reward = {
			custom_effect_tooltip = lec_stop_mandate
			hidden_effect = {
				country_event = {
					days = 7 id = legcities.46
				}
			}
	    }
	}
	focus = {
		id = lec_comm2 # Executive Orders Act
		text = lec_comm2
		icon = GFX_goal_demand_sudetenland
		cost = 10.00
		prerequisite = {
			focus = lec_comm1
		}
		x = 9
		y = 2
		completion_reward = {
			add_popularity = {
				ideology = authoritarian_democrat popularity = 0.20
			}
			add_popularity = {
				ideology = social_conservative popularity = -0.20
			}
			add_popularity = {
				ideology = paternal_autocrat popularity = -0.10
			}
		}

	}
	focus = {
		id = lec_comm3 # Public Gatherings Outlawed
		text = lec_comm3
		icon = GFX_goal_ideology_authoritarian_democrat
		cost = 10.00
		prerequisite = {
			focus = lec_comm2
		}
		x = 9
		y = 3
		completion_reward = {
        add_popularity = {
				ideology = authoritarian_democrat popularity = 0.10
			}
		}
	}
	focus = {
		id = lec_comm4 # Incorporation of the Firms
		text = lec_comm4
		icon = GFX_goal_forced_mil
		cost = 10.00
		prerequisite = {
			focus = lec_comm3
		}
		x = 9
		y = 4
		completion_reward = {
        	random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					state_population > 250000
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}	
	}
	focus = {
		id = lec_comm5 # Dissolve the Legation Council
		text = lec_comm5
		icon = GFX_goal_forced_res
		cost = 10.00
		prerequisite = {
			focus = lec_comm4
		}
		x = 9
		y = 5
		completion_reward = {
        add_popularity = {
				ideology = authoritarian_democrat popularity = 0.10
			}
		}
	}
	focus = {
		id = lec_comm6 # Autocratic Rule
		text = lec_comm6
		icon = GFX_goal_state_economy
		cost = 10.00
		prerequisite = {
			focus = lec_comm5
		}
		x = 9
		y = 6
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = lec_triad1 # Night of the Monkeys Head
		text = lec_triad1
		icon = GFX_goal_LEC_triads
		cost = 10.00
		prerequisite = {
			focus = lec_shanghai
		}
		mutually_exclusive = {
			focus = lec_man1
			focus = lec_comm1
		}
		x = 15
		y = 1
		ai_will_do = {
			factor = 70
		}
		completion_reward = {
			custom_effect_tooltip = lec_stop_mandate
			hidden_effect = {
				country_event = {
					days = 7 id = legcities.45
				}
			}
		}
	}
	focus = {
		id = lec_triad2 #The Syndicates Split
		text = lec_triad2
		icon = GFX_goal_LEC_monkey
		cost = 1.00
		prerequisite = {
			focus = lec_triad1
		}
		x = 15
		y = 2
		completion_reward = {
		    add_popularity = {
				ideology = paternal_autocrat popularity = 0.35
			}
			add_popularity = {
				ideology = social_conservative popularity = -0.30
			}
		}
	}
	focus = {
		id = lec_qing1 # Jiang Qing
		text = lec_qing1
		icon = GFX_goal_LEC_jiang
		cost = 10.00
		prerequisite = {
			focus = lec_triad2
		}
		mutually_exclusive = {
			focus = lec_tu1
			focus = lec_jinrong1
		}
		x = 13
		y = 3
		completion_reward = {
			hidden_effect = {
				country_event = {
					days = 7 id = legcities.47 }
			}
		}
	}
	focus = {
		id = lec_qing_2 # Focus on Opium
		text = lec_qing2
		icon = GFX_goal_coffee_boom
		cost = 10.00
		prerequisite = {
			focus = lec_qing1
		}
		x = 13
		y = 4
		completion_reward = {
		    add_political_power = 50
        	random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					state_population > 250000
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
        }
	}
	focus = {
		id = lec_qing3 # Afghan Opium
		text = lec_qing3
		icon = GFX_LEC_Afghan_Opium
		cost = 10.00
		prerequisite = {
			focus = lec_qing_2
		}
		x = 13
		y = 5
		completion_reward = {
		    add_political_power = 75
        	random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
					}
					state_population > 250000
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
        }
	}
	focus = {
		id = lec_qing4 # Bengali Opium
		text = lec_qing4
		icon = GFX_LEC_Bengali_Opium
		cost = 10.00
		prerequisite = {
			focus = lec_qing3
		}
		x = 13
		y = 6
		completion_reward = {
		    add_political_power = 100
        	random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 3
					}
					state_population > 250000
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
        }
	}
	focus = {
		id = lec_tu1 # Tu Yueh Sen
		text = lec_tu1
		icon = GFX_goal_LEC_du
		cost = 10.00
		prerequisite = {
			focus = lec_triad2
		}
		mutually_exclusive = {
			focus = lec_jinrong1
			focus = lec_qing1
		}
		x = 15
		y = 3
		completion_reward = {
			hidden_effect = {
				country_event = {
					days = 7 id = legcities.49 }
			}
		}
	}
	focus = {
		id = lec_tu2 # Increase the Arms Trade
		text = lec_tu2
		icon = GFX_goal_mittel_arms_trade
		cost = 10.00
		prerequisite = {
			focus = lec_tu1
		}
		x = 15
		y = 4
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = lec_tu3 # Protection Rackets
		text = lec_tu3
		icon = GFX_goal_generic_political_pressure
		cost = 10.00
		prerequisite = {
			focus = lec_tu2
		}
		x = 15
		y = 5
		completion_reward = {
        	random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
					}
					state_population > 250000
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = lec_tu4 # Cigarette Counterfeiting 
		text = lec_tu4
		icon = GFX_LEC_Cigarettes
		cost = 10.00
		prerequisite = {
			focus = lec_tu3
		}
		x = 15
		y = 6
		completion_reward = {
		    add_ideas = LEC_cigarettes
			}
     }
	focus = {
		id = lec_jinrong1 # Huang Jinrong
		text = lec_jinrong1
		icon = GFX_goal_LEC_huang
		cost = 10.00
		prerequisite = {
			focus = lec_triad2
		}
		mutually_exclusive = {
			focus = lec_tu1
			focus = lec_qing1
		}
		x = 17
		y = 3
		completion_reward = {
			hidden_effect = {
				country_event = {
					days = 7 id = legcities.48 }
			}
		}
	}
	focus = {
		id = lec_jinrong2 # Strengthen our Smugglers
		text = lec_jinrong2
		icon = GFX_LEC_Smugglers
		cost = 10.00
		prerequisite = {
			focus = lec_jinrong1
		}
		x = 17
		y = 4
		completion_reward = {
        	random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					state_population > 250000
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = lec_jinrong3 # Passport Counterfeiting
		text = lec_jinrong3
		icon = GFX_LEC_Passports2
		cost = 10.00
		prerequisite = {
			focus = lec_jinrong2
		}
		x = 17
		y = 5
		completion_reward = {
		    add_ideas = LEC_counterfeit_passports
        	random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
					}
					state_population > 250000
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = lec_jinrong4 # People Trafficking
		text = lec_jinrong4
		icon = GFX_goal_forced_inf
		cost = 10.00
		prerequisite = {
			focus = lec_jinrong3
		}
		x = 17
		y = 6
        completion_reward = {
		    add_ideas = LEC_red_light 
			}
	}
	focus = {
		id = lec_defp1 #Expand the Police Force
		text = lec_defp1
		icon = GFX_goal_LEC_police1
		cost = 10.00
		prerequisite = {
			focus = lec_def1
		}
		available = {
			OR = {
				has_completed_focus = lec_comm1
				has_completed_focus = lec_man1
			}
		}
		mutually_exclusive = {
			focus = lef_deft1
		}
		x = 21
		y = 1
		completion_reward = {
		   army_experience = 5
		   add_tech_bonus = {
				name = doctrine_bonus
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
		}	
	}
	focus = {
		id = lec_defp2 # Increase Patrols
		text = lec_defp2
		icon = GFX_goal_LEC_police2
		cost = 10.00
		prerequisite = {
			focus = lec_defp1
		}
		x = 21
		y = 2
		completion_reward = {
		   army_experience = 10
		   add_tech_bonus = {
				name = doctrine_bonus
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
		}	
	}
	focus = {
		id = lec_defp3 # Millitarise the Force
		text = lec_defp3
		icon = GFX_goal_LEC_police3
		cost = 10.00
		prerequisite = {
			focus = lec_defp2
		}
		x = 21
		y = 3
		completion_reward = {
			hidden_effect = { load_oob = LEC_Expanded_Force }
			custom_effect_tooltip = LEC_Expanded_Force_tt
			army_experience = 20
			add_ideas = LEC_police_force
			add_tech_bonus = {
			name = doctrine_bonus
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
        }
	}
	focus = {
		id = lef_deft1 # Incorporate the 49er's
		text = lec_deft1
		icon = GFX_LEC_49ers
		cost = 10.00
		prerequisite = {
			focus = lec_def1
		}
		available = {
			has_completed_focus = lec_triad1
		}
		mutually_exclusive = {
			focus = lec_defp1
		}
		x = 23
		y = 1
		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = doctrine_bonus
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
		}	
	}
	focus = {
		id = lec_deft2 # Initiate the Blue Lanterns
		text = lec_deft2
		icon = GFX_LEC_Blue_Lanterns
		cost = 10.00
		prerequisite = {
			focus = lef_deft1
		}
		x = 23
		y = 2
		completion_reward = {
		   army_experience = 10
		   add_tech_bonus = {
				name = doctrine_bonus
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
		}	
	}
	focus = {
		id = lec_deft3 # Delegate to the Red Pole
		text = lec_deft3
		icon = GFX_LEC_Red_Pole
		cost = 10.00
		prerequisite = {
			focus = lec_deft2
		}
		x = 23
		y = 3
		completion_reward = {
		   army_experience = 20
		   add_ideas = LEC_triad_gangs
		   add_tech_bonus = {
				name = doctrine_bonus
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
        }
	}
	focus = {
		id = lec_nav2 #Coastal Protection Vessels
		text = lec_nav2
		icon = GFX_goal_generic_navy_cruiser
		cost = 10.00
		prerequisite = {
			focus = lec_nav1
		}
		x = 26
		y = 1
		completion_reward = {
		    add_tech_bonus = {
			bonus = 0.5
			uses = 2
			category = dd_tech }        
	  }
	}
	focus = {
		id = lec_nav3 # Protect our "Traders"
		text = lec_nav3
		icon = GFX_goal_generic_navy_doctrines_tactics
		cost = 10.00
		prerequisite = {
			focus = lec_nav2
		}
		x = 26
		y = 2
		completion_reward = {
		   add_tech_bonus = {
		   bonus = 0.5
		   uses = 1
		   category = naval_doctrine }
        }
	}
	focus = {
		id = lec_man9 # Economic Boom
		text = lec_man9
		icon = GFX_goal_model_cities
		cost = 10.00
		prerequisite = {
			focus = lec_man8
		}
		x = 3
		y = 7
		completion_reward = {
			add_ideas = LEC_economic_glory
			remove_ideas = LEC_economic_meltdown
			add_political_power = 150
        }
	}
	focus = {
		id = lec_comm7 # Reforging our Economy
		text = lec_comm7
		icon = GFX_IRE_heavy_industry
		cost = 10.00
		prerequisite = {
			focus = lec_comm6
		}
		x = 9
		y = 7
		completion_reward = {
			add_ideas = LEC_reforged_economy
			remove_ideas = LEC_economic_meltdown
			add_political_power = 50
        }
	}
	focus = {
		id = lec_triad3 # Reinvesting our Profits
		text = lec_triad3
		icon = GFX_LEC_Illegitimate_Economy
		cost = 10.00
		prerequisite = {
			focus = lec_qing4
			focus = lec_jinrong4
			focus = lec_tu4
		}
		x = 15
		y = 7
        completion_reward = {
			add_ideas = LEC_illegitimate_economy
			remove_ideas = LEC_economic_meltdown
			add_political_power = 100
	    }
	}
}	