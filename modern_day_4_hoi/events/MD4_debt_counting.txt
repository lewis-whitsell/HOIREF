# Debt changing mechanism
add_namespace = debt_count

#Updates counting every 75 days
country_event = {
	id = debt_count.1
	#title = debt_count.1.t		#Hidden
	#desc = debt_count.1.d		#Hidden
	
	hidden = yes
	is_triggered_only = yes

    immediate = {
		scripted_update_debtcount = yes
		#country_event = { id = debt_count.1 days = 75 }
	}
	
	option = {
		name = debt_count.1.a
	}
}

### Increase debt level once count has been reached
country_event = {
	id = debt_count.2
	title = debt_count.2.t
	desc = debt_count.2.d
	
	trigger = {
		has_country_flag = {
			flag = debt_counting
			value > 48
		}
	}
	immediate = {
		scripted_update_debt_increase = yes
	}
	
	mean_time_to_happen = {
		days = 9
	}
	
	option = {
		name = debt_count.2.a
		trigger = { has_idea = debt_180 }
		custom_effect_tooltip = debt_rise_180_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = debt_160 }
		custom_effect_tooltip = debt_rise_160_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = debt_140 }
		custom_effect_tooltip = debt_rise_140_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = debt_120 }
		custom_effect_tooltip = debt_rise_120_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = debt_100 }
		custom_effect_tooltip = debt_rise_100_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = debt_80 }
		custom_effect_tooltip = debt_rise_80_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = debt_60 }
		custom_effect_tooltip = debt_rise_60_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = debt_40 }
		custom_effect_tooltip = debt_rise_40_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = debt_20 }
		custom_effect_tooltip = debt_rise_20_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = debt_0 }
		custom_effect_tooltip = debt_rise_0_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = reserves_20 }
		custom_effect_tooltip = reserve_sink_20_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = reserves_40 }
		custom_effect_tooltip = reserve_sink_50_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = reserves_60 }
		custom_effect_tooltip = reserve_sink_60_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = reserves_80 }
		custom_effect_tooltip = reserve_sink_80_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = reserves_100 }
		custom_effect_tooltip = reserve_sink_100_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = reserves_120 }
		custom_effect_tooltip = reserve_sink_120_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = reserves_140 }
		custom_effect_tooltip = reserve_sink_150_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = reserves_160 }
		custom_effect_tooltip = reserve_sink_160_tt
	}
	option = {
		name = debt_count.2.a
		trigger = { has_idea = reserves_180 }
		custom_effect_tooltip = reserve_sink_180_tt
	}
}

### decrease debt level once count has been reached
country_event = {
	id = debt_count.3
	title = debt_count.3.t
	desc = debt_count.3.d
	
	trigger = {
		has_country_flag = {
			flag = debt_counting
			value < 2
		}
	}
	
	immediate = {
		scripted_update_debt_decrease = yes
	}
	
	mean_time_to_happen = {
		days = 9
	}
	
	option = {
		name = debt_count.3.a
		trigger = { has_idea = debt_180 }
		custom_effect_tooltip = debt_sink_180_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = debt_160 }
		custom_effect_tooltip = debt_sink_160_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = debt_140 }
		custom_effect_tooltip = debt_sink_140_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = debt_120 }
		custom_effect_tooltip = debt_sink_120_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = debt_100 }
		custom_effect_tooltip = debt_sink_100_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = debt_80 }
		custom_effect_tooltip = debt_sink_80_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = debt_60 }
		custom_effect_tooltip = debt_sink_60_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = debt_40 }
		custom_effect_tooltip = debt_sink_40_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = debt_20 }
		custom_effect_tooltip = debt_sink_20_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = debt_0 }
		custom_effect_tooltip = reserve_rise_0_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = reserves_20 }
		custom_effect_tooltip = reserve_rise_20_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = reserves_40 }
		custom_effect_tooltip = reserve_rise_40_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = reserves_60 }
		custom_effect_tooltip = reserve_rise_60_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = reserves_80 }
		custom_effect_tooltip = reserve_rise_80_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = reserves_100 }
		custom_effect_tooltip = reserve_rise_100_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = reserves_120 }
		custom_effect_tooltip = reserve_rise_120_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = reserves_140 }
		custom_effect_tooltip = reserve_rise_140_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = reserves_160 }
		custom_effect_tooltip = reserve_rise_160_tt
				
	}
	option = {
		name = debt_count.3.a
		trigger = { has_idea = reserves_160 }
		custom_effect_tooltip = reserve_rise_180_tt
				
	}
	
}